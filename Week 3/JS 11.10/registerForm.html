<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"> -->
  <link href="https://fonts.googleapis.com/css?family=Dancing+Script|Itim|Lobster|Montserrat:500|Noto+Serif|Nunito|Patrick+Hand|Roboto+Mono:100,100i,300,300i,400,400i,500,500i,700,700i|Roboto+Slab|Saira" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <title>Register Form</title>
</head>

<body>
  <form id="registerForm">
    <h1>Register Form</h1>
    <div class="myForm user">
      <i class="fa fa-user" aria-hidden="true"></i>
      <input type="text" name="username" placeholder="Username" id="username" onkeyup="validateUsername()">
    </div>
    <div class="myForm email">
      <i class="fa fa-paper-plane"></i>
      <input type="text" name="email" id="email" placeholder="Email" onkeyup="validateEmail()">
    </div>
    <div class="myForm telephone">
      <i class="fa fa-phone"></i>
      <input type="text" name="telephone" id="telephone" placeholder="Telephone Number" onkeyup="validateTelephone()">
    </div>
    <div class="myForm organization">
      <i class="fa fa-building"></i>
      <input type="text" name="organization" id="organization" placeholder="Organization name">
    </div>

    <div class="div-button">
      <input type="button" class="btn" value="Submit" onclick="notification()">
      <input type="reset" class="btn" value="Erase and Restart" onclick="reload()">
    </div>
  </form>
  </div>
</body>

<script type="text/javascript">
  const myForm = document.getElementById('registerForm');
  let message = "";
  let messUser = "";
  let messEmail = "";
  let messTele = "";

  var validateUsername = () => {
    var usernameCheck = new RegExp(/^[a-z][a-z]+\d*$|^[a-z]\d\d+$/i);
    if (usernameCheck.test(myForm.username.value)) {
      document.querySelector('.user').style.border = '2px solid #01DF3A';
      // $('.user').css('border', '2px solid #01DF3A');
      messUser = "";
    } else {
      document.querySelector('.user').style.border = '2px solid red';
      // $('.user').css('border', '2px solid red');
      messUser = "Invalid Username!";
    }
  }

  var validateEmail = () => {
    var emailCheck = new RegExp(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/);

    if (emailCheck.test(myForm.email.value)) {
      document.querySelector('.email').style.border = '2px solid #01DF3A';
      // $('.email').css('border', '2px solid #01DF3A');
      messEmail = "";
    } else {
      document.querySelector('.email').style.border = '2px solid red';
      // $('.email').css('border', '2px solid red');
      messEmail = "Invalid Email!";
    }
  }
  var validateTelephone = () => {
    var telephoneCheck = new RegExp(/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im);

    if (telephoneCheck.test(myForm.telephone.value)) {
      document.querySelector('.telephone').style.border = '2px solid #01DF3A';
      // $('.telephone').css('border', '2px solid #01DF3A');
      messTele = "";
    } else {
      document.querySelector('.telephone').style.border = '2px solid red';
      // $('.telephone').css('border', '2px solid red');
      messTele = "Invalid Telephone!";
    }
    console.log(messTele);
  }

  var notification = () => {
    if (messUser != "") {
      message += messUser + "\n";
    }
    if (messEmail != "") {
      message += messEmail + "\n";
    }
    if (messTele != "") {
      message += messTele + "\n";
    }

    if (message == "") {
      message = "Valid infomation!!!";
      alert(message);
      message = "";
    } else {
      message += "Please refill your infomation!!";
      alert(message)
      message = "";
    }
  };

  var reload = () => {
    window.parent.location.reload();
  }

</script>

</html>